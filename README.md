# 智能图文对话平台

基于GPT-4o-alle模型的智能图像处理平台，支持图像识别、风格转换、视觉问答和创意生成功能。

## 项目概述

智能图文对话平台是一个基于GPT-4o-alle模型的Web应用，允许用户上传图片并通过自然语言与图像进行交互。平台以用户友好的界面让用户能够对图像进行多种智能处理操作。

### 主要特性

- **图像识别与分析**：识别图像内容，分析构图和主要元素
- **风格迁移转换**：将图像转换为多种艺术风格，如动漫、油画、素描等
- **视觉问答功能**：针对图像内容提问并获取回答
- **创意图像生成**：基于原始图像创建创意变体

## 界面结构

平台分为两个主要页面：

### 首页(index.html)

- **英雄区域**：展示平台主要功能和号召性用语
- **功能特性区域**：详细介绍平台的四大核心功能
- **处理示例区域**：通过选项卡展示不同风格的图像处理示例
- **使用步骤区域**：简明解释平台使用的四个步骤
- **开始使用区域**：引导用户进入处理页面的号召性区域

### 处理页面(process.html)

处理页面采用多步骤向导界面，包括三个主要步骤：

1. **上传图片**：用户可以拖放或点击上传图片
2. **选择操作**：选择要进行的操作类型（分析、风格转换、问答或创意生成）
3. **选择风格**：当选择风格转换时，用户可以选择特定的风格并添加自定义指令

处理完成后，结果会在模态窗口中展示，包括原始图片、处理后图片和详细描述，用户可以下载结果或重新进行处理。

## 技术实现

### 前端

- **HTML5**：语义化标签构建页面结构
- **CSS3**：响应式设计、Flexbox和Grid布局、过渡和动画效果
- **JavaScript**：无框架原生JS实现所有交互功能
- **SVG**：自定义图标和插图

### 模块组织

项目使用模块化组织代码：

- **UI模块(ui.js)**：处理界面交互和DOM操作
- **API模块(api.js)**：负责与GPT-4o API通信
- **主页模块(home.js)**：处理首页特定的交互
- **处理页面模块(process.js)**：实现多步骤向导和图像处理流程

### 文件结构

```
/
├── index.html           # 首页
├── process.html         # 处理页面
├── styles/
│   ├── main.css         # 主样式
│   ├── animations.css   # 动画样式
│   ├── home.css         # 首页特定样式
│   └── process.css      # 处理页面特定样式
├── scripts/
│   ├── ui.js            # UI交互逻辑
│   ├── api.js           # API调用处理
│   ├── home.js          # 首页交互逻辑
│   └── process.js       # 处理页面交互逻辑
└── assets/
    ├── images/          # 网站图像资源
    └── examples/        # 示例图像
```

## 使用说明

### 本地运行

1. 克隆本仓库
2. 使用本地服务器运行(如Live Server)，或直接打开index.html
3. 浏览首页了解功能，点击"开始处理"进入处理页面
4. 按照向导步骤操作并查看结果

### API配置

当前平台使用yunwu.ai提供的API服务：

```javascript
const apiEndpoint = 'https://yunwu.ai/v1/chat/completions';
const apiKey = 'your-api-key';
```

如需使用自己的API密钥，请修改scripts/api.js文件中的apiKey变量。

## 当前状态和未来规划

### 当前状态

- [x] 完成前端界面设计和交互
- [x] 实现API调用和处理逻辑
- [x] 实现响应式设计，适配各种设备
- [x] 添加多种风格示例

### 未来规划

- [ ] 添加用户账户系统，保存处理历史
- [ ] 实现图像处理结果的分享功能
- [ ] 添加更多艺术风格和处理效果
- [ ] 优化处理效率和用户体验
- [ ] 实现批量处理功能

## API调用更新说明 (2023-10-01)

最近对API调用代码进行了重要更新，以适应yunwu.ai的最新API规范：

### 主要更新内容

1. **模型名称更新**：将API模型从`gpt-4o-image-vip`更新为`gpt-4o-alle`
2. **请求格式调整**：按照最新规范调整了请求格式，特别是用户消息内容的结构
3. **响应处理优化**：
   - 增强了从JSON代码块中提取图片URL的能力
   - 改进了任务ID和生成ID的提取规则
   - 优化了返回图片URL的构建逻辑
4. **错误处理增强**：
   - 添加了更详细的错误信息和状态追踪
   - 增加了替代URL尝试机制，解决部分跨域问题
   - 完善了图片下载功能中的URL处理

### 使用注意事项

- 如果遇到图片无法显示的情况，系统会尝试自动构建替代URL
- 图片下载功能已增强以支持多种URL格式，包括直接提供替代链接
- API密钥需要定期更新，请确保使用有效的API密钥

这些更新提高了平台的稳定性和兼容性，能更好地适应yunwu.ai API的最新变更。

## 贡献

欢迎提交问题和合并请求。

## 许可证

MIT 